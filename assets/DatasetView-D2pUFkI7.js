import{d as G,r as u,m as j,h as _,e as s,w as o,a as d,F as g,f as l,g as f,i as h,t as p,c as b,n as H,p as J,q as L,v as K,s as O,x as Q,o as i,_ as W}from"./index-DREuIEeJ.js";import{P as X}from"./papaparse.min-CxQlcD1J.js";const Y={class:"filter-group"},Z={class:"dataset-description"},ee={class:"card-container"},te={class:"card-image"},le={class:"tag-container"},ae={class:"dialog-image-container"},ne=["src"],oe={class:"tag-container"},se=["href"],ie=G({__name:"DatasetView",setup(ue){const V=[{name:"Level 1",title:"Parameterizing Marks",options:["Repositioning","Resizing","Refilling","Repeating","Linking"]},{name:"Level 2",title:"Composing Glyphs",options:["Inclusion","Cutout"]},{name:"Level 3",title:"Structuring Collections",options:["Replication","Division"]}],r=u(new Array),c=u(new Array),R=u(0),F=u(0);function x(){console.log("updateNumber"),F.value=k.value.filter(t=>r.value.every(e=>t.tags.includes(e))&&c.value.every(e=>!t.tags.includes(e))).length,R.value=k.value.length}function P(t){r.value.includes(t)?r.value=r.value.filter(e=>e!==t):(r.value.push(t),c.value=c.value.filter(e=>e!==t)),x()}function S(t){c.value.includes(t)?c.value=c.value.filter(e=>e!==t):(c.value.push(t),r.value=r.value.filter(e=>e!==t)),x()}j(()=>{X.parse("/dataset_info.csv",{header:!0,download:!0,dynamicTyping:!0,complete:function(e){console.log(e.data);for(let v=0;v<e.data.length;v++){const m=e.data[v],w=[];for(const N of V)for(const y of N.options)m[y]&&w.push(y);k.value.push({name:m.name,tags:w,source:m.url})}x()}})});const k=u([]),D=u(!1),I=u(""),z=u([]),B=u(""),C=u("");function T(t){D.value=!0,I.value="dataset/"+t.name,z.value=t.tags,B.value=t.name,t.source?C.value=t.source:C.value=""}return(t,e)=>{const v=d("el-text"),m=d("el-divider"),w=d("el-button"),N=d("el-aside"),y=d("el-tag"),M=d("el-card"),$=d("el-main"),A=d("el-container"),U=d("el-dialog"),q=O("lazy");return i(),_(g,null,[s(A,{class:"dataset-view"},{default:o(()=>[s(N,{class:"dataset-filter"},{default:o(()=>[e[2]||(e[2]=l("h1",null,"Filter",-1)),s(v,null,{default:o(()=>e[1]||(e[1]=[f(" Left-click: filter | Right-click: exclude ")])),_:1}),(i(),_(g,null,h(V,a=>l("div",{key:a.name},[l("div",null,[s(m),l("p",null,p(a.title),1),l("div",Y,[(i(!0),_(g,null,h(a.options,n=>(i(),b(w,{key:n,class:H(["filter-button",{"filter-button-selected":r.value.includes(n),"filter-button-removed":c.value.includes(n)}]),onClick:E=>P(n),onContextmenu:J(E=>S(n),["prevent"])},{default:o(()=>[f(p(n),1)]),_:2},1032,["onClick","onContextmenu","class"]))),128))])])])),64)),s(m),s(v,null,{default:o(()=>[f(p(F.value)+" of "+p(R.value)+" pictures ",1)]),_:1})]),_:1}),s($,{class:"dataset-display"},{default:o(()=>[l("div",Z,[e[4]||(e[4]=l("h1",null,"Pictorial Chart Dataset",-1)),s(v,null,{default:o(()=>e[3]||(e[3]=[f(" To analyze the composition of pictorial charts and systematically develop the operations to create them, we collected examples from diverse sources."),l("br",null,null,-1)])),_:1})]),s(m),l("div",ee,[(i(!0),_(g,null,h(k.value,a=>L((i(),b(M,{key:a.name,class:"card","body-class":"card-body",onClick:n=>T(a)},{footer:o(()=>[l("div",le,[(i(!0),_(g,null,h(a.tags,n=>(i(),b(y,{key:n,type:"primary"},{default:o(()=>[f(p(n),1)]),_:2},1024))),128))])]),default:o(()=>[L(l("img",te,null,512),[[q,"dataset_thumbnails/"+a.name]])]),_:2},1032,["onClick"])),[[K,r.value.every(n=>a.tags.includes(n))&&c.value.every(n=>!a.tags.includes(n))]])),128))])]),_:1})]),_:1}),s(U,{title:"Image Detail",modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),width:"60%",class:"image-dialog"},{default:o(()=>[l("div",ae,[l("img",{src:I.value,class:"dialog-image"},null,8,ne)]),s(m),l("div",oe,[(i(!0),_(g,null,h(z.value,a=>(i(),b(y,{type:"primary",key:a},{default:o(()=>[f(p(a),1)]),_:2},1024))),128))]),l("p",null,[s(v,null,{default:o(()=>[f(p(B.value),1)]),_:1}),e[5]||(e[5]=l("br",null,null,-1)),C.value?(i(),_("a",{key:0,href:C.value},"source",8,se)):Q("",!0)])]),_:1},8,["modelValue"])],64)}}}),de=W(ie,[["__scopeId","data-v-1ad95567"]]);export{de as default};
