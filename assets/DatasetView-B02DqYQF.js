import{d as E,r as u,n as G,c as _,f as s,w as o,g as d,F as g,a as l,h as p,b as h,t as f,i as w,p as O,q as H,s as B,v as J,x as K,y as Q,o as i,_ as W}from"./index-dn6c_MVb.js";import{P as X}from"./papaparse.min-BcuclUf2.js";const Y={class:"filter-group"},Z={class:"dataset-description"},ee={class:"card-container"},te={class:"card-image"},le={class:"tag-container"},ae={class:"dialog-image-container"},ne=["src"],oe={class:"tag-container"},se=["href"],ie=E({__name:"DatasetView",setup(ue){const V=[{name:"Level 1",title:"Parameterizing Marks",options:["Repositioning","Resizing","Refilling","Repeating"]},{name:"Level 2",title:"Composing Glyphs",options:["Inclusion","Cutout"]},{name:"Level 3",title:"Structuring Collections",options:["Replication","Division"]},{name:"Level 4",title:"Linking Objects",options:["Linking"]}],c=u(new Array),r=u(new Array),L=u(0),R=u(0);function x(){console.log("updateNumber"),R.value=k.value.filter(t=>c.value.every(e=>t.tags.includes(e))&&r.value.every(e=>!t.tags.includes(e))).length,L.value=k.value.length}function P(t){c.value.includes(t)?c.value=c.value.filter(e=>e!==t):(c.value.push(t),r.value=r.value.filter(e=>e!==t)),x()}function S(t){r.value.includes(t)?r.value=r.value.filter(e=>e!==t):(r.value.push(t),c.value=c.value.filter(e=>e!==t)),x()}G(()=>{X.parse("/dataset_info.csv",{header:!0,download:!0,dynamicTyping:!0,complete:function(e){console.log(e.data);for(let v=0;v<e.data.length;v++){const m=e.data[v],C=[];for(const N of V)for(const y of N.options)m[y]&&C.push(y);k.value.push({name:m.name,tags:C,source:m.url})}x()}})});const k=u([]),D=u(!1),F=u(""),I=u([]),z=u(""),b=u("");function T(t){D.value=!0,F.value="/dataset/"+t.name,I.value=t.tags,z.value=t.name,t.source?b.value=t.source:b.value=""}return(t,e)=>{const v=d("el-text"),m=d("el-divider"),C=d("el-button"),N=d("el-aside"),y=d("el-tag"),M=d("el-card"),$=d("el-main"),A=d("el-container"),U=d("el-dialog"),j=K("lazy");return i(),_(g,null,[s(A,{class:"dataset-view"},{default:o(()=>[s(N,{class:"dataset-filter"},{default:o(()=>[e[2]||(e[2]=l("h1",null,"Filter",-1)),s(v,null,{default:o(()=>e[1]||(e[1]=[p(" Left-click: filter | Right-click: exclude ")])),_:1}),(i(),_(g,null,h(V,a=>l("div",{key:a.name},[l("div",null,[s(m),l("p",null,f(a.title),1),l("div",Y,[(i(!0),_(g,null,h(a.options,n=>(i(),w(C,{key:n,class:O(["filter-button",{"filter-button-selected":c.value.includes(n),"filter-button-removed":r.value.includes(n)}]),onClick:q=>P(n),onContextmenu:H(q=>S(n),["prevent"])},{default:o(()=>[p(f(n),1)]),_:2},1032,["onClick","onContextmenu","class"]))),128))])])])),64)),s(m),s(v,null,{default:o(()=>[p(f(R.value)+" of "+f(L.value)+" pictures ",1)]),_:1})]),_:1}),s($,{class:"dataset-display"},{default:o(()=>[l("div",Z,[e[4]||(e[4]=l("h1",null,"Pictorial Chart Dataset",-1)),s(v,null,{default:o(()=>e[3]||(e[3]=[p(" To analyze the composition of pictorial charts and systematically develop the operations to create them, we collected examples from diverse sources."),l("br",null,null,-1)])),_:1})]),s(m),l("div",ee,[(i(!0),_(g,null,h(k.value,a=>B((i(),w(M,{key:a.name,class:"card","body-class":"dataset-card-body",onClick:n=>T(a)},{footer:o(()=>[l("div",le,[(i(!0),_(g,null,h(a.tags,n=>(i(),w(y,{key:n,type:"primary"},{default:o(()=>[p(f(n),1)]),_:2},1024))),128))])]),default:o(()=>[B(l("img",te,null,512),[[j,"/dataset_thumbnails/"+a.name]])]),_:2},1032,["onClick"])),[[J,c.value.every(n=>a.tags.includes(n))&&r.value.every(n=>!a.tags.includes(n))]])),128))])]),_:1})]),_:1}),s(U,{title:"Image Detail",modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),width:"60%",class:"image-dialog"},{default:o(()=>[l("div",ae,[l("img",{src:F.value,class:"dialog-image"},null,8,ne)]),s(m),l("div",oe,[(i(!0),_(g,null,h(I.value,a=>(i(),w(y,{type:"primary",key:a},{default:o(()=>[p(f(a),1)]),_:2},1024))),128))]),l("p",null,[s(v,null,{default:o(()=>[p(f(z.value),1)]),_:1}),e[5]||(e[5]=l("br",null,null,-1)),b.value?(i(),_("a",{key:0,href:b.value},"source",8,se)):Q("",!0)])]),_:1},8,["modelValue"])],64)}}}),de=W(ie,[["__scopeId","data-v-59b53250"]]);export{de as default};
