import{d as A,r as v,e as U,c as _,f as i,w as o,g as c,F as p,h as j,o as s,a as l,i as f,t as g,b as C,j as E,n as G,k as y,l as z,v as q,m as H}from"./index-bLxK5Vhm.js";import{P as J}from"./papaparse.min-BWE1wKP7.js";const K={class:"filter-group"},O={class:"dataset-description"},Q={class:"card-container"},W={class:"card-image"},X={class:"tag-container"},Y={class:"dialog-image-container"},Z=["src"],ee={class:"tag-container"},te=A({__name:"DatasetView",setup(ae){const x=[{name:"Level 1",title:"Parameterizing Marks",options:["Repositioning","Resizing","Refilling","Repeating","Linking"]},{name:"Level 2",title:"Composing Glyphs",options:["Inclusion","Cutout"]},{name:"Level 3",title:"Structuring Collections",options:["Replication","Division"]}],u=v(new Array),r=v(new Array);function B(t){u.value.includes(t)?u.value=u.value.filter(e=>e!==t):(u.value.push(t),r.value=r.value.filter(e=>e!==t))}function I(t){r.value.includes(t)?r.value=r.value.filter(e=>e!==t):(r.value.push(t),u.value=u.value.filter(e=>e!==t))}U(()=>{J.parse("/dataset_info.csv",{header:!0,download:!0,dynamicTyping:!0,complete:function(e){console.log(e.data);for(let d=0;d<e.data.length;d++){const h=e.data[d],k=[];for(const w of x)for(const m of w.options)h[m]&&k.push(m);b.value.push({name:h.name,tags:k})}}})});const b=v([]),D=v(!1),V=v(""),F=v([]),R=v("");function L(t){D.value=!0,V.value="dataset/"+t.name,F.value=t.tags,R.value=t.name}return(t,e)=>{const d=c("el-divider"),h=c("el-button"),k=c("el-aside"),w=c("el-text"),m=c("el-tag"),P=c("el-card"),N=c("el-main"),T=c("el-container"),M=c("el-dialog"),S=j("lazy");return s(),_(p,null,[i(T,{class:"dataset-view"},{default:o(()=>[i(k,{class:"dataset-filter"},{default:o(()=>[e[1]||(e[1]=l("h1",null,"Filter",-1)),(s(),_(p,null,f(x,a=>l("div",{key:a.name},[l("div",null,[i(d),l("p",null,g(a.title),1),l("div",K,[(s(!0),_(p,null,f(a.options,n=>(s(),C(h,{key:n,class:G(["filter-button",{"filter-button-selected":u.value.includes(n),"filter-button-removed":r.value.includes(n)}]),onClick:$=>B(n),onContextmenu:E($=>I(n),["prevent"])},{default:o(()=>[y(g(n),1)]),_:2},1032,["onClick","onContextmenu","class"]))),128))])])])),64))]),_:1}),i(N,{class:"dataset-display"},{default:o(()=>[l("div",O,[e[3]||(e[3]=l("h1",null,"Pictorial Chart Dataset",-1)),i(w,null,{default:o(()=>e[2]||(e[2]=[y(" To analyze the composition of pictorial charts and systematically develop the operations to create them, we collected examples from diverse sources."),l("br",null,null,-1)])),_:1})]),i(d),l("div",Q,[(s(!0),_(p,null,f(b.value,a=>z((s(),C(P,{key:a.name,class:"card","body-class":"card-body",onClick:n=>L(a)},{footer:o(()=>[l("div",X,[(s(!0),_(p,null,f(a.tags,n=>(s(),C(m,{key:n,type:"primary"},{default:o(()=>[y(g(n),1)]),_:2},1024))),128))])]),default:o(()=>[z(l("img",W,null,512),[[S,"dataset/"+a.name]])]),_:2},1032,["onClick"])),[[q,u.value.every(n=>a.tags.includes(n))&&r.value.every(n=>!a.tags.includes(n))]])),128))])]),_:1})]),_:1}),i(M,{title:"Image Detail",modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),width:"60%",class:"image-dialog"},{default:o(()=>[l("div",Y,[l("img",{src:V.value,class:"dialog-image"},null,8,Z)]),i(d),l("div",ee,[(s(!0),_(p,null,f(F.value,a=>(s(),C(m,{type:"primary",key:a},{default:o(()=>[y(g(a),1)]),_:2},1024))),128))]),l("p",null,[i(w,null,{default:o(()=>[y(g(R.value),1)]),_:1})])]),_:1},8,["modelValue"])],64)}}}),oe=H(te,[["__scopeId","data-v-13c9710f"]]);export{oe as default};
